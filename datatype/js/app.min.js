function showInfo(e,i){allRows=_.sortBy(i.sheets("Census Data").all(),"State"),filterByDatatype(pageType)}function filterByDatatype(e){clearCards(),updateCards(allRows,[buildDatatypeFilter(e)])}function clearCards(){$("#cards").empty()}function buildDatatypeFilter(e){return e?function(i){return i["Type of Data"]===e}:!1}function updateCards(e,i){var i=i||[],t=$("#card-template").html(),a=Handlebars.compile(t);_.chain(e).filter(function(e){return _.all(i,function(i){return i(e)})}).map(function(e){e.exists=e.Exists,e.digitized=e.Digitized,e.online=e.Online,e.isPublic=e.Public,e.free=e.Free,e.machine=e["Machine readable"],e.bulk=e["Available in bulk"],e.openLicense=e["No restrictions"],e.fresh=e["Up-to-date"],e.inRepo=e["In the state repository"],e.verifiable=e.Verifiable,e.complete=e.Complete,e.existsCaption=captions.exists[e.exists],e.digitizedCaption=captions.digitized[e.digitized],e.isPublicCaption=captions.isPublic[e.isPublic],e.freeCaption=captions.free[e.free],e.onlineCaption=captions.online[e.online],e.machineCaption=captions.machine[e.machine],e.bulkCaption=captions.bulk[e.bulk],e.openLicenseCaption=captions.openLicense[e.openLicense],e.freshCaption=captions.fresh[e.fresh],e.inRepoCaption=captions.inRepo[e.inRepo],e.verifiableCaption=captions.verifiable[e.verifiable],e.completeCaption=captions.complete[e.complete];var i=a(e);$("#cards").append(i),$('[data-toggle="tooltip"]').tooltip()})}$(document).ready(function(){Tabletop.init({key:"1OhVbryeHBsPjJ3TjjVFlfM552pDKRjiUpTAXQJe9miA",callback:showInfo,parseNumbers:!0})});var allRows=[];